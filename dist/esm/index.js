import{Center as e,VStack as n,Text as t,Divider as r,Box as l,Button as a}from"@chakra-ui/react";import o,{useState as c,useRef as i}from"react";var u=function(u){var s,d=u.email,m=u.logout,f=u.sendEmail,v=function(){var e=c(0),n=e[0],t=e[1],r=i();return{seconds:n,startCountDown:function(e){r.current||(t(e),r.current=setInterval((function(){t((function(e){return e<0?(clearInterval(r.current),r.current=void 0,0):e-1}))}),1e3))}}}(),E=v.seconds,g=v.startCountDown,h=function(e){var n=c({loading:!1,called:!1}),t=n[0],r=n[1];return[t,function(){return r({loading:!0,called:!0}),e().then((function(e){return r({loading:!1,called:!0}),e})).catch((function(e){console.error(e),r({loading:!1,called:!0,error:e})}))}]}(f),p=h[0],y=p.error,k=p.loading,w=p.called,b=h[1],x=429===(null===(s=null==y?void 0:y.response)||void 0===s?void 0:s.status),C=x?"You've sent to many requests, please try again later.":"An error occurred, please try again.";return o.createElement(e,{h:"90vh",m:"auto"},o.createElement(n,{align:"center",w:"40vw",textAlign:"center",spacing:8},o.createElement(t,{fontSize:"2xl"},"Almost there â€¦"),o.createElement(t,null,"Please check your email ",o.createElement("b",null,d)," to confirm your account."),o.createElement(r,null),o.createElement(t,null,"If ",o.createElement("b",null,d)," is not your email address, please"," ",o.createElement(l,{display:"contents",textDecoration:"underline",color:"blue",cursor:"pointer",onClick:function(){return m()}},"click here to go back")," ","and enter the correct one."," "),o.createElement(t,null,"If you have not received our email in 15 minutes, please check your spam folder."),o.createElement(n,null,o.createElement(t,null,"Still can't find it?"),!x&&o.createElement(a,{onClick:function(){return b().then((function(e){var n;g(30),(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.url)&&(window.location.href=e.data.url)}))},variant:"invertedPrimary",w:"fit-content",px:"6",size:"sm",ml:"3",disabled:k||E>0},k?"Loading...":"Resend verification email"),!k&&w&&o.createElement(t,{color:y?"warning.600":"secondary.500"},y?C:"Your verification email has been sent, please check your inbox."),E>0&&o.createElement(t,{fontSize:"xs"},"You can try again in ",E))))};export{u as default};
//# sourceMappingURL=index.js.map
